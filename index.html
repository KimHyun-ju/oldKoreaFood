<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Korea Old Food-고조리서활용음식(古調理書活用飮食)-</title>
  <style>
    iframe {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  <script>
    const iframe = document.querySelector("iframe");
    const showPdf = (pdfUrl) => {
      var iframe = document.createElement("iframe");
      iframe.src = pdfUrl;
      iframe.type = "application/pdf";
      iframe.style.display = "none";
      iframe.width = window.innerWidth;
      iframe.height = window.innerHeight;

      document.body.appendChild(iframe);

      window.addEventListener('resize', () => {
        iframe.width = window.innerWidth;
        iframe.height = window.innerHeight;
      });

      iframe.onload = () => {
        iframe.style.display = "block";
        iframe.contentDocument.execCommand("enableObjectControls", false, null);
      };

      // 인앱 브라우저 호환 문제 해결
      var useragt = navigator.userAgent.toLowerCase();
      if (useragt.match(/kakaotalk/i) || useragt.match(/line/i)) {
        // 카카오톡, 라인은 외부 브라우저 호출
        location.href = 'kakaotalk://web/openExternal?url=' + encodeURIComponent(pdfUrl);
      } else if (useragt.match(/android/i)) {
        // 안드로이드 인앱 브라우저는 외부 브라우저 호출
        location.href = 'intent://' + pdfUrl.replace(/https?:\/\//i, '') + '#Intent;scheme=http;package=com.android.chrome;end';
      } else {
        // 그 외 인앱 브라우저는 iframe으로 표시
        iframe.src = pdfUrl;
        iframe.style.display = "block";
        iframe.contentDocument.execCommand("enableObjectControls", false, null);

      }
    };

    showPdf("oldkoreafood.pdf");
  </script>
</body>
</html>
